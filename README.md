# Fabry-Pérot腔OAM模式分析软件

这是一款用于分析Fabry-Pérot（FP）腔中不同轨道角动量（OAM）模式透射特性的仿真工具。

## 功能介绍

- **参数交互**：实时调整腔参数（波长、腔长、反射率等）
- **物理量计算**：自动计算FSR、精细度、基模束腰、模式间距、线宽等物理量
- **透射率计算**：计算不同OAM模式的透射率曲线
- **可视化**：
  - 生成不同OAM模式的透射率随腔长变化的曲线图（0-900nm）
  - 支持曲线区域缩放和细节查看
  - OAM模式空间分布可视化（强度与相位）
- **数据导出**：将计算结果导出为CSV格式

## 安装方法

### 快速安装

1. 直接双击运行`setup.bat`文件，将自动安装依赖并启动程序
2. 按照提示操作即可

### 手动安装

1. 确保您已安装Python 3.13或更高版本
2. 克隆或下载本仓库
3. 安装依赖库：
   ```
   pip install -r requirements.txt
   ```

## 使用方法

1. 运行主程序：
   - 双击`setup.bat`一键启动（推荐）
   - 或手动运行：`python fp_oam_simulator.py`

2. 在界面左侧输入参数：
   - 入射光波长 (nm)
   - 基准腔长 (mm)
   - 腔长变化范围 (nm)
   - 镜面反射率 (左、右)
   - 曲率半径 (左、右)
   - 最大OAM模式数
   - 计算分辨率（点数）

3. 点击"计算"按钮执行计算
4. 计算结果将显示在界面左下方
5. 右侧选项卡功能：
   - **透射率曲线**：
     - 显示不同OAM模式的透射率随腔长变化的曲线
     - 可通过复选框选择显示的OAM模式
     - 可调整显示范围百分比来查看局部细节
     - 支持图形缩放、平移、保存等功能（通过工具栏）
   - **OAM模式分布**：展示选定OAM模式的空间强度分布和相位分布
6. 可以使用"导出数据"按钮将结果保存为CSV文件

## 特色功能

- **透射率曲线横坐标为腔长变化**：以基准腔长为中心，显示0-900nm的腔长变化对应的透射率
- **局部区域放大**：可通过设置显示范围百分比或使用工具栏的缩放功能深入查看曲线细节
- **交互式图形**：支持使用鼠标平移、缩放查看不同区域的曲线特性
- **自定义分辨率**：可调整计算点数以获得更细致的曲线或提高计算速度

## 物理模型

软件基于以下公式进行计算：

- **自由光谱范围(FSR)**: FSR = c/(2nL)（空气中n=1）
- **精细度(Finesse)**: F = π√(Ra₁Ra₂)/(1-Ra₁Ra₂)
- **基模束腰半径**: w₀² = (Lλ/π)·√[g₁g₂(1-g₁g₂)/(g₁+g₂-2g₁g₂)²]
- **模式间距**: Δν = FSR/F
- **线宽**: Δλ = λ²/c·Δν

其中透射率计算公式：
T = T₁T₂/[(1-√(R₁R₂))² + 4√(R₁R₂)sin²(δ/2)]

相位差δ = (4π/λ)nL + 2(2p+|l|+1)φ，φ = arccos(±√(g₁g₂))

OAM模式空间分布基于Laguerre-Gaussian模式：
E(r,θ,z) ∝ (r/w₀)^|l| · L_p^|l|(2r²/w₀²) · exp(-r²/w₀²) · exp(ilθ)

其中l是OAM模式指数，p是径向模式指数，L_p^|l|是广义拉盖尔多项式。

## 注意事项

- 请确保输入的参数在有效范围内
- 腔参数必须满足稳定条件：0 ≤ g₁g₂ ≤ 1
- 计算可能需要几秒钟时间，取决于计算机性能、OAM模式数量和分辨率
- 如需更详细的曲线，可增加计算点数，但会增加计算时间 